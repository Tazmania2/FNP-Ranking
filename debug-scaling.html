<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Scaling Debug</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .debug-panel {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .test-content {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .button {
            background: #4CAF50;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 16px;
        }
        
        .button:hover {
            background: #45a049;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .info-card {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
        }
        
        .large-text {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .test-elements {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            min-width: 200px;
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="debug-panel">
        <h1>üñ•Ô∏è Responsive Scaling Debug Tool</h1>
        <p>This page helps debug responsive scaling issues on TV displays</p>
        
        <div class="info-grid">
            <div class="info-card">
                <strong>Screen Resolution:</strong><br>
                <span id="resolution">Loading...</span>
            </div>
            <div class="info-card">
                <strong>Pixel Ratio:</strong><br>
                <span id="pixelRatio">Loading...</span>
            </div>
            <div class="info-card">
                <strong>Viewport Size:</strong><br>
                <span id="viewport">Loading...</span>
            </div>
            <div class="info-card">
                <strong>Estimated Diagonal:</strong><br>
                <span id="diagonal">Loading...</span>
            </div>
        </div>
        
        <h3>Manual Scaling Controls</h3>
        <button class="button" onclick="forceScale(1.0)">1.0x (Normal)</button>
        <button class="button" onclick="forceScale(1.5)">1.5x (Large)</button>
        <button class="button" onclick="forceScale(2.0)">2.0x (TV)</button>
        <button class="button" onclick="forceScale(2.5)">2.5x (Large TV)</button>
        <button class="button" onclick="forceScale(3.0)">3.0x (4K TV)</button>
        <button class="button" onclick="resetScaling()">Reset</button>
    </div>
    
    <div class="test-content">
        <h2>Test Content</h2>
        <p class="large-text">This text should scale with the display size</p>
        
        <div class="test-elements">
            <div class="test-card">
                <h3>Card 1</h3>
                <p>This is test content that should be readable from TV viewing distance.</p>
                <button class="button">Test Button</button>
            </div>
            <div class="test-card">
                <h3>Card 2</h3>
                <p>Check if this text is large enough to read comfortably on your TV.</p>
                <button class="button">Another Button</button>
            </div>
        </div>
        
        <div id="debug-info" style="background: rgba(0,0,0,0.5); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h3>Debug Information</h3>
            <pre id="debug-output">Loading debug info...</pre>
        </div>
    </div>

    <script>
        // Display detection and debugging
        function updateDisplayInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const pixelRatio = window.devicePixelRatio || 1;
            
            // Estimate diagonal (rough calculation)
            const assumedDPI = width >= 1920 && pixelRatio === 1 ? 72 : 96;
            const physicalWidth = width / pixelRatio;
            const physicalHeight = height / pixelRatio;
            const diagonal = Math.sqrt(
                Math.pow(physicalWidth / assumedDPI, 2) + Math.pow(physicalHeight / assumedDPI, 2)
            );
            
            document.getElementById('resolution').textContent = `${screen.width}x${screen.height}`;
            document.getElementById('pixelRatio').textContent = pixelRatio;
            document.getElementById('viewport').textContent = `${width}x${height}`;
            document.getElementById('diagonal').textContent = `~${diagonal.toFixed(1)}"`;
            
            // Debug output
            const debugInfo = {
                screenResolution: `${screen.width}x${screen.height}`,
                viewportSize: `${width}x${height}`,
                pixelRatio: pixelRatio,
                estimatedDiagonal: diagonal.toFixed(1),
                userAgent: navigator.userAgent,
                isLikelyTV: width >= 1920 && pixelRatio === 1,
                aspectRatio: (width / height).toFixed(2)
            };
            
            document.getElementById('debug-output').textContent = JSON.stringify(debugInfo, null, 2);
            
            console.log('üñ•Ô∏è Display Info:', debugInfo);
        }
        
        // Manual scaling function
        function forceScale(factor) {
            console.log(`üîß Forcing scale factor to ${factor}x`);
            
            const root = document.documentElement;
            root.style.setProperty('--scale-factor', factor.toString());
            
            // Apply scaling to body
            document.body.style.fontSize = `${16 * factor}px`;
            document.body.style.transform = `scale(${factor})`;
            document.body.style.transformOrigin = 'top left';
            document.body.style.width = `${100 / factor}%`;
            document.body.style.height = `${100 / factor}%`;
            
            console.log(`‚úÖ Applied ${factor}x scaling`);
        }
        
        function resetScaling() {
            console.log('üîÑ Resetting scaling');
            document.body.style.fontSize = '';
            document.body.style.transform = '';
            document.body.style.transformOrigin = '';
            document.body.style.width = '';
            document.body.style.height = '';
        }
        
        // Initialize
        updateDisplayInfo();
        
        // Update on resize
        window.addEventListener('resize', updateDisplayInfo);
        
        // Make functions available globally
        window.forceScale = forceScale;
        window.resetScaling = resetScaling;
        
        console.log('üß™ Debug page loaded. Use forceScale(2.0) to test scaling.');
    </script>
</body>
</html>